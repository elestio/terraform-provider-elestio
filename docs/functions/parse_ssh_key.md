---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "parse_ssh_key function - terraform-provider-elestio"
subcategory: ""
description: |-
  Parses an SSH public key and extracts key data and username
---

# function: parse_ssh_key

Takes an SSH public key and a username parameter. Returns an object with `key_data` (the key without comment) and `username` (from the provided value or extracted from the key comment). The username parameter is required but accepts null - pass null explicitly to extract the username from the SSH key comment. If username is null and the key has no comment, an error is returned.

## Example Usage

```terraform
# Parse SSH keys
locals {
  # Extract username from SSH key comment (pass null explicitly)
  ssh_key = provider::elestio::parse_ssh_key(file("~/.ssh/id_rsa.pub"), null)

  # Override username with a custom value
  ssh_key_custom = provider::elestio::parse_ssh_key(file("~/.ssh/id_rsa.pub"), "custom-username")
}

# Use the parsed SSH keys in a resource
resource "elestio_postgresql" "example" {
  project_id    = "project_id"
  provider_name = "netcup"
  datacenter    = "nbg"
  server_type   = "MEDIUM-2C-4G"

  ssh_public_keys = [
    local.ssh_key,        # { key_data = "ssh-rsa AAAA...", username = "user@hostname" }
    local.ssh_key_custom, # { key_data = "ssh-rsa AAAA...", username = "custom-username" }
  ]
}
```

## Signature

<!-- signature generated by tfplugindocs -->
```text
parse_ssh_key(ssh_key string, username string) object
```

## Arguments

<!-- arguments generated by tfplugindocs -->
1. `ssh_key` (String) The SSH public key string (e.g., 'ssh-rsa AAAA... user@host')
1. `username` (String, Nullable) The username to use. Pass null explicitly to extract the username from the SSH key comment.
